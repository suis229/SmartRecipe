{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///home/hatayama/SmartRecipe/frontend/pages/recipes.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport \"../styles/globals.css\";\n\nconst RecipeSearch = () => {\n  const [recipes, setRecipes] = useState([]);\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  useEffect(() => {\n    if (items.length > 0) {\n      fetchRecipes();\n    }\n  }, [items]);\n\n  const fetchItems = async () => {\n    try {\n      const response = await axios.get(\"http://127.0.0.1:8000/fridge_items/\");\n      setItems(response.data);\n    } catch (error) {\n      console.error(\"Error fetching items:\", error);\n    }\n  };\n\n  const fetchRecipes = async () => {\n    try {\n      const ingredients = items.map((item) => item.name).join(\",\");\n      const response = await axios.get(`http://127.0.0.1:8000/recipes/?ingredients=${ingredients}`);\n      setRecipes(response.data);\n    } catch (error) {\n      console.error(\"Error fetching recipes:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"recipe-title\">おすすめレシピ</h1>\n      <div className=\"recipe-container\">\n        {loading ? (\n          <p className=\"loading-text\">レシピを検索中...</p>\n        ) : recipes.length > 0 ? (\n          <ul className=\"recipe-list\">\n            {recipes.slice(0, 30).map((recipe, index) => (\n              <li key={index} className=\"recipe-item\">\n                <a href={recipe.video_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <img src={recipe.thumbnail_url} alt={recipe.title} className=\"recipe-thumbnail\" />\n                  <p className=\"recipe-title-text\">\n                    {recipe.title.length > 15 ? `${recipe.title.substring(0, 15)}...` : recipe.title}\n                  </p>\n                </a>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className=\"no-recipes-text\">レシピが見つかりませんでした。</p>\n        )}\n      </div>\n      <button className=\"back-btn\" onClick={() => router.push(\"/\")}>\n        ← 冷蔵庫管理へ戻る\n      </button>\n    </div>\n  );\n};\n\nexport default RecipeSearch;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;;AAGA,MAAM,eAAe;IACnB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,MAAM,MAAM,GAAG,GAAG;YACpB;QACF;IACF,GAAG;QAAC;KAAM;IAEV,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,WAAW,MAAM,0GAAA,CAAA,UAAK,CAAC,GAAG,CAAC;YACjC,SAAS,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC;IACF;IAEA,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,cAAc,MAAM,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,EAAE,IAAI,CAAC;YACxD,MAAM,WAAW,MAAM,0GAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,2CAA2C,EAAE,aAAa;YAC5F,WAAW,SAAS,IAAI;QAC1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAG,WAAU;0BAAe;;;;;;0BAC7B,qKAAC;gBAAI,WAAU;0BACZ,wBACC,qKAAC;oBAAE,WAAU;8BAAe;;;;;2BAC1B,QAAQ,MAAM,GAAG,kBACnB,qKAAC;oBAAG,WAAU;8BACX,QAAQ,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,QAAQ,sBACjC,qKAAC;4BAAe,WAAU;sCACxB,cAAA,qKAAC;gCAAE,MAAM,OAAO,SAAS;gCAAE,QAAO;gCAAS,KAAI;;kDAC7C,qKAAC;wCAAI,KAAK,OAAO,aAAa;wCAAE,KAAK,OAAO,KAAK;wCAAE,WAAU;;;;;;kDAC7D,qKAAC;wCAAE,WAAU;kDACV,OAAO,KAAK,CAAC,MAAM,GAAG,KAAK,GAAG,OAAO,KAAK,CAAC,SAAS,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,OAAO,KAAK;;;;;;;;;;;;2BAJ7E;;;;;;;;;yCAWb,qKAAC;oBAAE,WAAU;8BAAkB;;;;;;;;;;;0BAGnC,qKAAC;gBAAO,WAAU;gBAAW,SAAS,IAAM,OAAO,IAAI,CAAC;0BAAM;;;;;;;;;;;;AAKpE;uCAEe"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}